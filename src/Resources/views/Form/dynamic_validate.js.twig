{% import "BoekkooiJqueryValidationBundle:Form:macros.js.twig" as gen %}

{%- autoescape false -%}
(function($) {
    var form = $("{{- gen.form_jquery_selector(form) -}}");

    {%- set first = true -%}
    {%- for field in fields -%}
        {%- if field.rules|length > 0 -%}
            {%- if not first %},{% endif -%}
                form.find("*[name=\"{{ field.name|e('js') }}\"]").rules("add", {
                    {{- gen.rules(field.rules, enforce_validation_groups, true)  -}}
                });
            {%- set first = false -%}
        {%- endif -%}
    {%- endfor -%}
})(jQuery);
{%- endautoescape -%}
